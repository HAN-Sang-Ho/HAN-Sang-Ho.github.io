<!DOCTYPE html>
<html>
<head>

    <!-- Document Settings -->
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />

    <!-- Base Meta -->
    <!-- dynamically fixing the title for tag/author pages -->



    <title>Python - Crawling.</title>
    <meta name="HandheldFriendly" content="True" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <!-- Styles'n'Scripts -->
    <link rel="stylesheet" type="text/css" href="/assets/built/screen.css" />
    <link rel="stylesheet" type="text/css" href="/assets/built/screen.edited.css" />
    <link rel="stylesheet" type="text/css" href="/assets/built/syntax.css" />

    <!-- custom.css -->
    <link rel="stylesheet" type="text/css" href="/assets/built/custom.css" />

    <!-- Font Awesome -->
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css">

    <!-- 웹폰트 추가 -->
    <link rel="stylesheet" href="https://fonts.googleapis.com/earlyaccess/nanumgothic.css">

    <!-- syntax.css 추가 -->
    <link rel="stylesheet" type="text/css" href="/assets/built/syntax.css" />


    <!-- highlight.js -->
    <link rel="stylesheet" href="//cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/styles/default.min.css">
    <style>.hljs { background: none; }</style>

    <!--[if IE]>
        <style>
            p, ol, ul{
                width: 100%;
            }
            blockquote{
                width: 100%;
            }
        </style>
    <![endif]-->
    
    <!-- This tag outputs SEO meta+structured data and other important settings -->
    <meta name="description" content="코딩 공부장" />
    <link rel="shortcut icon" href="https://HAN-Sang-Ho.github.io/assets/built/images/favicon.jpg" type="image/png" />
    <link rel="canonical" href="https://HAN-Sang-Ho.github.io/python-crawling" />
    <meta name="referrer" content="no-referrer-when-downgrade" />

     <!--title below is coming from _includes/dynamic_title-->
    <meta property="og:site_name" content="호노의 Technical Blog" />
    <meta property="og:type" content="website" />
    <meta property="og:title" content="Python - Crawling." />
    <meta property="og:description" content="Crawling python을 이용해 크롤링 코드를 작성해 보려한다. 크롤링은 업무자동화의 기본이라고도 할 수 있는데 크롤링이란 분산되어 있는 문서에서 데이터를 검색하여 필요한 정보를 색인하는 기술이다. 이 색인하는 과정을 사람이 하는 것이 아니라 컴퓨터가 대신해주는 것이다. 간단한 코드만으로도 여러가지 일을 할 수 있다. 예를 들면 뉴스기사의 메인제목, 로또번호, 실시간 검색어 등등 자신에게 필요한" />
    <meta property="og:url" content="https://HAN-Sang-Ho.github.io/python-crawling" />
    <meta property="og:image" content="https://HAN-Sang-Ho.github.io/assets/built/images/python-logo.png" />
    <meta property="article:publisher" content="https://www.facebook.com/" />
    <meta property="article:author" content="https://www.facebook.com/" />
    <meta property="article:published_time" content="2020-03-08T05:20:00+09:00" />
    <meta property="article:modified_time" content="2020-03-08T05:20:00+09:00" />
    <meta property="article:tag" content="Python" />
    <meta name="twitter:card" content="summary_large_image" />
    <meta name="twitter:title" content="Python - Crawling." />
    <meta name="twitter:description" content="Crawling python을 이용해 크롤링 코드를 작성해 보려한다. 크롤링은 업무자동화의 기본이라고도 할 수 있는데 크롤링이란 분산되어 있는 문서에서 데이터를 검색하여 필요한 정보를 색인하는 기술이다. 이 색인하는 과정을 사람이 하는 것이 아니라 컴퓨터가 대신해주는 것이다. 간단한 코드만으로도 여러가지 일을 할 수 있다. 예를 들면 뉴스기사의 메인제목, 로또번호, 실시간 검색어 등등 자신에게 필요한" />
    <meta name="twitter:url" content="https://HAN-Sang-Ho.github.io/" />
    <meta name="twitter:image" content="https://HAN-Sang-Ho.github.io/assets/built/images/python-logo.png" />
    <meta name="twitter:label1" content="Written by" />
    <meta name="twitter:data1" content="호노의 Technical Blog" />
    <meta name="twitter:label2" content="Filed under" />
    <meta name="twitter:data2" content="Python" />
    <meta name="twitter:site" content="@" />
    <meta name="twitter:creator" content="@" />
    <meta property="og:image:width" content="1400" />
    <meta property="og:image:height" content="933" />

    <script type="application/ld+json">
{
    "@context": "https://schema.org",
    "@type": "Website",
    "publisher": {
        "@type": "Organization",
        "name": "호노의 Technical Blog",
        "logo": "https://HAN-Sang-Ho.github.io/"
    },
    "url": "https://HAN-Sang-Ho.github.io/python-crawling",
    "image": {
        "@type": "ImageObject",
        "url": "https://HAN-Sang-Ho.github.io/assets/built/images/python-logo.png",
        "width": 2000,
        "height": 666
    },
    "mainEntityOfPage": {
        "@type": "WebPage",
        "@id": "https://HAN-Sang-Ho.github.io/python-crawling"
    },
    "description": "Crawling python을 이용해 크롤링 코드를 작성해 보려한다. 크롤링은 업무자동화의 기본이라고도 할 수 있는데 크롤링이란 분산되어 있는 문서에서 데이터를 검색하여 필요한 정보를 색인하는 기술이다. 이 색인하는 과정을 사람이 하는 것이 아니라 컴퓨터가 대신해주는 것이다. 간단한 코드만으로도 여러가지 일을 할 수 있다. 예를 들면 뉴스기사의 메인제목, 로또번호, 실시간 검색어 등등 자신에게 필요한"
}
    </script>

    <!-- <script type="text/javascript" src="https://demo.ghost.io/public/ghost-sdk.min.js?v=724281a32e"></script>
    <script type="text/javascript">
    ghost.init({
    	clientId: "ghost-frontend",
    	clientSecret: "f84a07a72b17"
    });
    </script> -->

    <meta name="generator" content="Jekyll 3.6.2" />
    <link rel="alternate" type="application/rss+xml" title="Python - Crawling." href="/feed.xml" />


</head>
<body class="post-template">

    <div class="site-wrapper">
        <!-- All the main content gets inserted here, index.hbs, post.hbs, etc -->
        <!-- default -->

<!-- The tag above means: insert everything in this file
into the {body} of the default.hbs template -->

<header class="site-header outer">
    <div class="inner">
        <nav class="site-nav">
    <div class="site-nav-left">
        
            
                <a class="site-nav-logo" href="https://HAN-Sang-Ho.github.io/">호노의 Technical Blog</a>
            
        
        
            <ul class="nav" role="menu">
    <li class="nav-home" role="menuitem"><a href="/">Home</a></li>
    <li class="nav-about" role="menuitem"><a href="/about/">About</a></li>
    <li class="nav-jekyll" role="menuitem"><a href="/tag/jekyll/">Jekyll</a></li>
    <li class="nav-python" role="menuitem"><a href="/tag/python/">Python</a></li>
    <li class="nav-archive" role="menuitem">
        <a href="/archive.html">All Posts</a>
    </li>
    <li class="nav-archive" role="menuitem">
        <a href="/author_archive.html">Tag별 Posts</a>
    </li>
</ul>
        
    </div>
    <div class="site-nav-right">
        <div class="social-links">
            
            
        </div>
        
            <a class="subscribe-button" href="#subscribe">Search</a>
        
    </div>
</nav>

    </div>
</header>

<!-- Everything inside the #post tags pulls data from the post -->
<!-- #post -->

<main id="site-main" class="site-main outer" role="main">
    <div class="inner">

        <article class="post-full  tag-python post tag-python ">

            <header class="post-full-header">
                <section class="post-full-meta">
                    <time class="post-full-meta-date" datetime=" 8 March 2020"> 8 March 2020</time>
                    
                        <span class="date-divider">/</span>
                        
                            
                               <a href='/tag/python/'>PYTHON</a>
                            
                        
                    
                </section>
                <h1 class="post-full-title">Python - Crawling.</h1>
            </header>
            <!--
            
            <figure class="post-full-image" style="background-image: url(/assets/built/images/python-logo.png)">
            </figure>
            
            -->
            <section class="post-full-content">
                <div class="kg-card-markdown">
                    <h4 id="-crawling"><i class="fa fa-list-alt"></i> Crawling</h4>

<p>python을 이용해 크롤링 코드를 작성해 보려한다.</p>

<p>크롤링은 업무자동화의 기본이라고도 할 수 있는데</p>

<p>크롤링이란 분산되어 있는 문서에서 데이터를 검색하여 필요한 정보를 색인하는 기술이다.</p>

<p>이 색인하는 과정을 사람이 하는 것이 아니라 컴퓨터가 대신해주는 것이다.</p>

<p>간단한 코드만으로도 여러가지 일을 할 수 있다.</p>

<hr />

<p>예를 들면 뉴스기사의 메인제목, 로또번호, 실시간 검색어 등등 자신에게 필요한 정보를 편하게 볼 수 있는 편리한 기능이다.</p>

<p>대표적으로 호텔스컴바인,호텔스닷컴 등이 실제 사업에서 사용되는 기술이라고 볼 수 있다.</p>

<hr />

<p><i class="fa fa-pencil-square-o"></i> 나는 머신러닝 이미지인식 프로그램을 만드는 과정에서 이미지 데이터세트가 필요해서 연예인들의 사진을 크롤링 하는 코드를 작성해보려한다.</p>

<p><img src="https://user-images.githubusercontent.com/79001968/113678186-54e13300-96f9-11eb-8557-3516aebea5b6.png" alt="selenium" /></p>

<p>크롤링을 하기 위해 Selenium을 사용할 것이다.</p>

<p>Selenium은 크롤링 외에도 메일을 보내는 등의 웹브라우저로 하는 기능을 구현할 수있다.</p>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">pip</span> <span class="n">install</span> <span class="n">selenium</span>
</code></pre></div></div>

<p>우선 selenium을 설치해주자.</p>

<hr />

<p><i class="fa fa-pencil-square-o"></i>  설치를 완료하였다면 크롬에서 이미지를 가져올 것이기 때문에 ChromeDriver을 다운받아야한다.</p>

<p><img src="https://user-images.githubusercontent.com/79001968/113679440-b8b82b80-96fa-11eb-9b32-a06560692d9d.png" alt="버전" /></p>

<p>ChromeDriver을 다운받기 위해서는 Chrome의 버전을 확인해야하는데 이렇게 도움말에 Chrome 정보에서 확인하면된다.</p>

<p><img src="https://user-images.githubusercontent.com/79001968/114042346-4e50e800-98c0-11eb-9669-c84c26c51277.png" alt="2" /></p>

<p>ChromeDriver에서 본인의 컴퓨터에 맞는것을 찾아 다운 받으면 된다.</p>

<p>다운 받은 파일은 작성한 코딩을 저장할 폴더에 받으면 된다.(google.py와 같은 경로에 있어야함)</p>

<hr />

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kn">from</span> <span class="nn">selenium</span> <span class="kn">import</span> <span class="n">webdriver</span>
<span class="kn">from</span> <span class="nn">selenium.webdriver.common.keys</span> <span class="kn">import</span> <span class="n">Keys</span>

<span class="n">driver</span> <span class="o">=</span> <span class="n">webdriver</span><span class="o">.</span><span class="n">Firefox</span><span class="p">()</span>
<span class="n">driver</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s">"http://www.python.org"</span><span class="p">)</span>
<span class="k">assert</span> <span class="s">"Python"</span> <span class="ow">in</span> <span class="n">driver</span><span class="o">.</span><span class="n">title</span>
<span class="n">elem</span> <span class="o">=</span> <span class="n">driver</span><span class="o">.</span><span class="n">find_element_by_name</span><span class="p">(</span><span class="s">"q"</span><span class="p">)</span>
<span class="n">elem</span><span class="o">.</span><span class="n">clear</span><span class="p">()</span>
<span class="n">elem</span><span class="o">.</span><span class="n">send_keys</span><span class="p">(</span><span class="s">"pycon"</span><span class="p">)</span>
<span class="n">elem</span><span class="o">.</span><span class="n">send_keys</span><span class="p">(</span><span class="n">Keys</span><span class="o">.</span><span class="n">RETURN</span><span class="p">)</span>
<span class="k">assert</span> <span class="s">"No results found."</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">driver</span><span class="o">.</span><span class="n">page_source</span>
<span class="n">driver</span><span class="o">.</span><span class="n">close</span><span class="p">()</span>
</code></pre></div></div>

<p>셀레니움 공식 홈페이지에 있는 코드를 가져다 사용할 것이다.</p>

<p>출처 : https://selenium-python.readthedocs.io/getting-started.html</p>

<hr />

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kn">from</span> <span class="nn">selenium</span> <span class="kn">import</span> <span class="n">webdriver</span>
<span class="kn">from</span> <span class="nn">selenium.webdriver.common.keys</span> <span class="kn">import</span> <span class="n">Keys</span>

<span class="n">driver</span> <span class="o">=</span> <span class="n">webdriver</span><span class="o">.</span><span class="n">Chrome</span><span class="p">()</span>
<span class="n">driver</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s">"http://www.python.org"</span><span class="p">)</span>
<span class="c">#assert "Python" in driver.title</span>
<span class="c">#elem = driver.find_element_by_name("q")</span>
<span class="c">#elem.clear()</span>
<span class="c">#elem.send_keys("pycon")</span>
<span class="c">#elem.send_keys(Keys.RETURN)</span>
<span class="c">#assert "No results found." not in driver.page_source</span>
<span class="c">#driver.close()</span>
</code></pre></div></div>

<p>이렇게 위에 4줄을 남기고 우리는 Chrome을 사용할 것이니 웹드라이버를 Firefox()에서 Chrome()으로 바꾸어 주자.</p>

<p><img src="https://user-images.githubusercontent.com/79001968/114044395-2b273800-98c2-11eb-84b4-4f6bae6dfe5b.png" alt="3" /></p>

<p>python을 Run 해보면 이렇게 python페이지가 나오는 것을 볼 수 있다.</p>

<hr />

<p><i class="fa fa-pencil-square-o"></i> 이제 하나씩 기능들을 구현해보도록 하자.</p>

<p>첫번째로 구글에서 이미지를 받아오는 기능을 구현하기 위해</p>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">driver</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s">"https://www.google.co.kr/imghp?hl=ko&amp;tab=ri&amp;ogbl"</span><span class="p">)</span>
</code></pre></div></div>

<p>구글 이미지로 페이지를 지정해주도록 하자.</p>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">elem</span> <span class="o">=</span> <span class="n">driver</span><span class="o">.</span><span class="n">find_element_by_name</span><span class="p">(</span><span class="s">"q"</span><span class="p">)</span>
</code></pre></div></div>

<p>위의 코드는 검생창을 찾는 기능이다.</p>

<p>조금 더 이해를 하자면 지정한 특정요소를 찾는다고 생각하면 될 것 같다.</p>

<p><img src="https://user-images.githubusercontent.com/79001968/114050177-01bcdb00-98c7-11eb-84ed-cdf98c82ea2b.png" alt="4" /></p>

<p>F12를 눌러 검색창 요소들을 확인해보면 여러가지 요소가 있는 것을 확인 해 볼 수있다. class , name, type 등등 정보가 나오게된다.</p>

<p>우리는 이중 name의 element가 q인것을 확인 했으니 위에 코드를 사용하면 된다.</p>

<p>(상황에 따라 name이 아닌 class, id등으로 바꿔서 코드를 작성할 수 있다.)</p>

<p>이제 검색창을 찾았으니 입력을 해야한다.</p>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>elem.send_keys("pycon")
</code></pre></div></div>

<p>이 send_keys를 통해 원하는 값을 입력할 수 있다.</p>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>elem.send_keys("박보영")
elem.send_keys(Keys.RETURN)
</code></pre></div></div>

<p>데이터 세트의 자료가 필요하기 때문에 연예인 사진을 다운 받도록 해보자.</p>

<p>(저는 박보영님을 좋아하기…^^)</p>

<p>자 이렇게 코드를 수정하고 다시 실행해보도록하자.</p>

<p>Keys.RETURN은 엔터키를 의미한다.</p>

<p><img src="https://user-images.githubusercontent.com/79001968/114152087-cf5bbe00-9958-11eb-8879-7ed339e6564e.png" alt="5" /></p>

<p>코드를 실행해보면 이렇게 구글 이미지에서 박보영님을 검색한 결과를 볼 수 있다.</p>

<hr />

<p>이제 사진을 다운 받는 방법에 대해서 코드를 작성할 것이다.</p>

<p><img src="https://user-images.githubusercontent.com/79001968/114155624-a6d5c300-995c-11eb-8b25-dbadee99fccb.png" alt="6" /></p>

<p>첫번째 우리가 사진을 받기 위해서는 사진을 클릭을한 후</p>

<p>위에 사진처럼 ‘이미지를 다른 이미지로 저장…‘을 눌르고 파일명을 작성한 후 저장을 할 것이다.</p>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">driver</span><span class="o">.</span><span class="n">find_elements_by_css_selector</span><span class="p">(</span><span class="s">".rg_i.Q4LuWd"</span><span class="p">)[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">click</span><span class="p">()</span>
</code></pre></div></div>

<p>이렇게 코드를 작성하면 첫번째 사진을 선택하는 과정까지 왔다.</p>

<p>여기서 element가 아니라 elements를 사용한 이유는 사진의 개수가 여러개이고 이 사진들을 리스트 안에 넣기 위해서는 s를 붙혀줘야한다.</p>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>driver.find_element_by_xpath("./html/body/div[2]/c-wiz/div[3]/div[2]/div[3]/div/div/div[3]/div[2]/c-wiz/div/div[1]/div[1]/div/div[2]/a/img").get_attribute("src")
</code></pre></div></div>

<p>그 이후 각각의 사진의 src를 이용하여 저장을 할 것이다.</p>

<p>그러기 위해서는 src의 주소를 가져와야하는데 위에 작성된 코드가 각 사진의 src를 가져오게된다.</p>

<hr />

<p>이제 다운을하는 과정을 넣고 while과 for문을 통해 반복하면 된다.</p>

<p>그 전에 이 작업간 속도의 제한을 두지 않고 실행시키면 오류가 발생할 가능성이 크다.</p>

<p>그러므로 time 라이브러리는 통해  중간에 약간의 시간을 넣어 주도록하자.</p>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kn">import</span> <span class="nn">time</span>
<span class="n">time</span><span class="o">.</span><span class="n">sleep</span><span class="p">(</span><span class="mf">0.8</span><span class="p">)</span>
</code></pre></div></div>

<p>(0.8초의 간격)</p>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kn">import</span> <span class="nn">urllib.request</span>
<span class="n">urllib</span><span class="o">.</span><span class="n">request</span><span class="o">.</span><span class="n">urlretrieve</span><span class="p">(</span><span class="n">imgUrl</span><span class="p">,</span> <span class="s">"박보영"</span> <span class="o">+</span> <span class="nb">str</span><span class="p">(</span><span class="n">count</span><span class="p">)</span> <span class="o">+</span> <span class="s">".jpg"</span><span class="p">)</span>
</code></pre></div></div>

<p>(Url 다운로드 및 이름, 확장자 지정)</p>

<hr />

<p>이렇게 까지 작성을 하면 크롤링의 기능을 구현한 것이다.</p>

<p>하지만 여기서 한가지 문제점이 발생한다.</p>

<p>페이지에 노출되는 사진을 50장이므로 50장까지만 사진을 다운 받을 수 있다.</p>

<p>이 과정을 해결하려면 위에 코드들이 실행되기 전에 스크롤을 먼저 내리고 다운을 하면 된다.</p>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>SCROLL_PAUSE_TIME = 0.5

# Get scroll height
last_height = driver.execute_script("return document.body.scrollHeight")

while True:
    # Scroll down to bottom
    driver.execute_script("window.scrollTo(0, document.body.scrollHeight);")

    # Wait to load page
    time.sleep(SCROLL_PAUSE_TIME)

    # Calculate new scroll height and compare with last scroll height
    new_height = driver.execute_script("return document.body.scrollHeight")
    if new_height == last_height:
        break
    last_height = new_height
</code></pre></div></div>

<p>while문을 통해 스크롤을 끝까지 내리도록 해보자.</p>

<p><img src="https://user-images.githubusercontent.com/79001968/114161620-3f6f4180-9963-11eb-9afe-1c4ca723d61d.png" alt="7" /></p>

<p>코드들을 실행해보면 이렇게 나의 폴더에 자동으로 사진이 저장되는것을 볼 수 있다.</p>

<hr />

<p>이미지파일 크롤링 코드 소스</p>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kn">from</span> <span class="nn">selenium</span> <span class="kn">import</span> <span class="n">webdriver</span>
<span class="kn">from</span> <span class="nn">selenium.webdriver.common.keys</span> <span class="kn">import</span> <span class="n">Keys</span>
<span class="kn">import</span> <span class="nn">time</span>
<span class="kn">import</span> <span class="nn">urllib.request</span>

<span class="n">driver</span> <span class="o">=</span> <span class="n">webdriver</span><span class="o">.</span><span class="n">Chrome</span><span class="p">()</span>
<span class="n">driver</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s">"https://www.google.co.kr/imghp?hl=ko&amp;tab=ri&amp;ogbl"</span><span class="p">)</span>
<span class="n">elem</span> <span class="o">=</span> <span class="n">driver</span><span class="o">.</span><span class="n">find_element_by_name</span><span class="p">(</span><span class="s">"q"</span><span class="p">)</span>
<span class="n">elem</span><span class="o">.</span><span class="n">send_keys</span><span class="p">(</span><span class="s">"박보영"</span><span class="p">)</span>
<span class="n">elem</span><span class="o">.</span><span class="n">send_keys</span><span class="p">(</span><span class="n">Keys</span><span class="o">.</span><span class="n">RETURN</span><span class="p">)</span>

<span class="c">#스크롤 내리기</span>
<span class="n">SCROLL_PAUSE_TIME</span> <span class="o">=</span> <span class="mf">0.5</span>

<span class="c"># Get scroll height</span>
<span class="n">last_height</span> <span class="o">=</span> <span class="n">driver</span><span class="o">.</span><span class="n">execute_script</span><span class="p">(</span><span class="s">"return document.body.scrollHeight"</span><span class="p">)</span>

<span class="k">while</span> <span class="bp">True</span><span class="p">:</span>
    <span class="c"># Scroll down to bottom</span>
    <span class="n">driver</span><span class="o">.</span><span class="n">execute_script</span><span class="p">(</span><span class="s">"window.scrollTo(0, document.body.scrollHeight);"</span><span class="p">)</span>

    <span class="c"># Wait to load page</span>
    <span class="n">time</span><span class="o">.</span><span class="n">sleep</span><span class="p">(</span><span class="n">SCROLL_PAUSE_TIME</span><span class="p">)</span>

    <span class="c"># Calculate new scroll height and compare with last scroll height</span>
    <span class="n">new_height</span> <span class="o">=</span> <span class="n">driver</span><span class="o">.</span><span class="n">execute_script</span><span class="p">(</span><span class="s">"return document.body.scrollHeight"</span><span class="p">)</span>
    <span class="k">if</span> <span class="n">new_height</span> <span class="o">==</span> <span class="n">last_height</span><span class="p">:</span>
        <span class="k">break</span>
    <span class="n">last_height</span> <span class="o">=</span> <span class="n">new_height</span>

<span class="c">#Url 다운</span>
<span class="n">images</span> <span class="o">=</span> <span class="n">driver</span><span class="o">.</span><span class="n">find_elements_by_css_selector</span><span class="p">(</span><span class="s">".rg_i.Q4LuWd"</span><span class="p">)</span>
<span class="n">count</span> <span class="o">=</span> <span class="mi">1</span>
<span class="k">for</span> <span class="n">image</span> <span class="ow">in</span> <span class="n">images</span><span class="p">:</span>
    <span class="k">try</span><span class="p">:</span>
        <span class="n">image</span><span class="o">.</span><span class="n">click</span><span class="p">()</span>
        <span class="n">time</span><span class="o">.</span><span class="n">sleep</span><span class="p">(</span><span class="mf">0.8</span><span class="p">)</span>
        <span class="n">imgUrl</span> <span class="o">=</span> <span class="n">driver</span><span class="o">.</span><span class="n">find_element_by_xpath</span><span class="p">(</span><span class="s">"./html/body/div[2]/c-wiz/div[3]/div[2]/div[3]/div/div/div[3]/div[2]/c-wiz/div/div[1]/div[1]/div/div[2]/a/img"</span><span class="p">)</span><span class="o">.</span><span class="n">get_attribute</span><span class="p">(</span><span class="s">"src"</span><span class="p">)</span>
        <span class="n">urllib</span><span class="o">.</span><span class="n">request</span><span class="o">.</span><span class="n">urlretrieve</span><span class="p">(</span><span class="n">imgUrl</span><span class="p">,</span> <span class="s">"박보영"</span> <span class="o">+</span> <span class="nb">str</span><span class="p">(</span><span class="n">count</span><span class="p">)</span> <span class="o">+</span> <span class="s">".jpg"</span><span class="p">)</span>
        <span class="n">count</span> <span class="o">=</span> <span class="n">count</span> <span class="o">+</span> <span class="mi">1</span>
    <span class="k">except</span><span class="p">:</span>
        <span class="k">pass</span>

<span class="n">google</span><span class="o">.</span><span class="n">py</span>

</code></pre></div></div>

<script src="https://gist.github.com/HAN-Sang-Ho/f095afee62a7db69d0755b2b1fc93af6.js"></script>


                </div>
            </section>

            <!-- Email subscribe form at the bottom of the page -->
           <!--
            
                <section class="subscribe-form">
                    <h3 class="subscribe-form-title">Subscribe to 호노의 Technical Blog</h3>
                    <p>Get the latest posts delivered right to your inbox</p>
                    <span id="searchform" method="post" action="/subscribe/" class="">
    <input class="confirm" type="hidden" name="confirm"  />
    <input class="location" type="hidden" name="location"  />
    <input class="referrer" type="hidden" name="referrer"  />

    <div class="form-group">
        <input class="subscribe-email" onkeyup="myFunc()"
               id="searchtext" type="text" name="searchtext"
               placeholder="Search..." />
    </div>
    <script type="text/javascript">
        function myFunc() {
            if(event.keyCode == 13) {
                var url = encodeURIComponent($("#searchtext").val());
                location.href = "/search.html?query=" + url;
            }
        }
    </script>
</span>
                </section>
            
            -->

            <footer class="post-full-footer">
                <!-- Everything inside the #author tags pulls data from the author -->
                <!-- #author-->
                
                    
                        <section class="author-card">
                            
                                <img class="author-profile-image" src="/assets/built/images/author-logo.jpg" alt="Hono" />
                            
                            <section class="author-card-content">
                                <h4 class="author-card-name"><a href="/author/Hono">Hono</a></h4>
                                
                                    <p><a href="https://www.youtube.com/channel/UCKdVddwVAsN1GkOU_cABjqw">개발자 호노 Hono, (비전공자의 개발자 도전기)</a></p>
                                
                            </section>
                        </section>
                        <div class="post-full-footer-right">
                            <a class="author-card-button" href="/author/Hono">Read More</a>
                        </div>
                    
                
                <!-- /author  -->
            </footer>

            <!-- If you use Disqus comments, just uncomment this block.
            The only thing you need to change is "test-apkdzgmqhj" - which
            should be replaced with your own Disqus site-id. -->
            
                <section class="post-full-comments">
                    <div id="disqus_thread"></div>
                    <script>
                        var disqus_config = function () {
                            this.page.url = 'https://HAN-Sang-Ho.github.io/python-crawling';
                            this.page.identifier = '/python-crawling';
                            this.page.title = 'Python - Crawling.';
                        };
                        (function() {
                            var d = document, s = d.createElement('script');
                            s.src = 'https://xxxxxxxxxx.disqus.com/embed.js';
                            s.setAttribute('data-timestamp', +new Date());
                            (d.head || d.body).appendChild(s);
                        })();
                    </script>
                </section>
            

        </article>

    </div>
</main>

<!-- Links to Previous/Next posts -->
<aside class="read-next outer">
    <div class="inner">
        <div class="read-next-feed">
            
                
                
                
                
                    <article class="read-next-card"
                        
                            style="background-image: url(/assets/built/images/blog-cover1.png)"
                        
                    >
                        <header class="read-next-card-header">
                            <small class="read-next-card-header-sitetitle">&mdash; 호노의 Technical Blog &mdash;</small>
                            
                                <h3 class="read-next-card-header-title"><a href="/tag/python/">Python</a></h3>
                            
                        </header>
                        <div class="read-next-divider"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M13 14.5s2 3 5 3 5.5-2.463 5.5-5.5S21 6.5 18 6.5c-5 0-7 11-12 11C2.962 17.5.5 15.037.5 12S3 6.5 6 6.5s4.5 3.5 4.5 3.5"/></svg>
</div>
                        <div class="read-next-card-content">
                            <ul>
                                
                                
                                  
                                    
                                  
                                
                                  
                                    
                                        
                                        
                                            <li><a href="/python-memo">Python - 나만의 메모장을 만들어보자.</a></li>
                                        
                                    
                                  
                                
                                  
                                
                                  
                                
                            </ul>
                        </div>
                        <footer class="read-next-card-footer">
                            <a href="/tag/python/">
                                
                                    See all 1 posts  →
                                
                            </a>
                        </footer>
                    </article>
                
            

            <!-- If there's a next post, display it using the same markup included from - partials/post-card.hbs -->
            

            <!-- If there's a previous post, display it using the same markup included from - partials/post-card.hbs -->
            
                

    <article class="post-card post-template">
        
            <a class="post-card-image-link" href="/python-memo">
                <div class="post-card-image" style="background-image: url(/assets/built/images/python-logo.png)"></div>
            </a>
        
        <div class="post-card-content">
            <a class="post-card-content-link" href="/python-memo">
                <header class="post-card-header">
                    
                        
                            
                                <span class="post-card-tags">Python</span>
                            
                        
                    

                    <h2 class="post-card-title">Python - 나만의 메모장을 만들어보자.</h2>
                </header>
                <section class="post-card-excerpt">
                    
                        <p></p>
                    
                </section>
            </a>
            <footer class="post-card-meta">
                
                    
                        
                        <img class="author-profile-image" src="/assets/built/images/author-logo.jpg" alt="Hono" />
                        
                        <span class="post-card-author">
                            <a href="/author/Hono/">Hono</a>
                        </span>
                    
                
                <span class="reading-time">
                    
                    
                      1 min read
                    
                </span>
            </footer>
        </div>
    </article>

            

        </div>
    </div>
</aside>

<!-- Floating header which appears on-scroll, included from includes/floating-header.hbs -->
<div class="floating-header">
    <div class="floating-header-logo">
        <a href="https://HAN-Sang-Ho.github.io/">
            
            <span>호노의 Technical Blog</span>
        </a>
    </div>
    <span class="floating-header-divider">&mdash;</span>
    <div class="floating-header-title">Python - Crawling.</div>
    <div class="floating-header-share">
        <div class="floating-header-share-label">Share this <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24">
    <path d="M7.5 15.5V4a1.5 1.5 0 1 1 3 0v4.5h2a1 1 0 0 1 1 1h2a1 1 0 0 1 1 1H18a1.5 1.5 0 0 1 1.5 1.5v3.099c0 .929-.13 1.854-.385 2.748L17.5 23.5h-9c-1.5-2-5.417-8.673-5.417-8.673a1.2 1.2 0 0 1 1.76-1.605L7.5 15.5zm6-6v2m-3-3.5v3.5m6-1v2"/>
</svg>
</div>
        <a class="floating-header-share-tw" href="https://twitter.com/share?text=Python+-+Crawling.&amp;url=https://HAN-Sang-Ho.github.io/python-crawling"
            onclick="window.open(this.href, 'share-twitter', 'width=550,height=235');return false;">
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 32 32"><path d="M30.063 7.313c-.813 1.125-1.75 2.125-2.875 2.938v.75c0 1.563-.188 3.125-.688 4.625a15.088 15.088 0 0 1-2.063 4.438c-.875 1.438-2 2.688-3.25 3.813a15.015 15.015 0 0 1-4.625 2.563c-1.813.688-3.75 1-5.75 1-3.25 0-6.188-.875-8.875-2.625.438.063.875.125 1.375.125 2.688 0 5.063-.875 7.188-2.5-1.25 0-2.375-.375-3.375-1.125s-1.688-1.688-2.063-2.875c.438.063.813.125 1.125.125.5 0 1-.063 1.5-.25-1.313-.25-2.438-.938-3.313-1.938a5.673 5.673 0 0 1-1.313-3.688v-.063c.813.438 1.688.688 2.625.688a5.228 5.228 0 0 1-1.875-2c-.5-.875-.688-1.813-.688-2.75 0-1.063.25-2.063.75-2.938 1.438 1.75 3.188 3.188 5.25 4.25s4.313 1.688 6.688 1.813a5.579 5.579 0 0 1 1.5-5.438c1.125-1.125 2.5-1.688 4.125-1.688s3.063.625 4.188 1.813a11.48 11.48 0 0 0 3.688-1.375c-.438 1.375-1.313 2.438-2.563 3.188 1.125-.125 2.188-.438 3.313-.875z"/></svg>

        </a>
        <a class="floating-header-share-fb" href="https://www.facebook.com/sharer/sharer.php?u=https://HAN-Sang-Ho.github.io/python-crawling"
            onclick="window.open(this.href, 'share-facebook','width=580,height=296');return false;">
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 32 32"><path d="M19 6h5V0h-5c-3.86 0-7 3.14-7 7v3H8v6h4v16h6V16h5l1-6h-6V7c0-.542.458-1 1-1z"/></svg>

        </a>
    </div>
    <progress class="progress" value="0">
        <div class="progress-container">
            <span class="progress-bar"></span>
        </div>
    </progress>
</div>


<!-- /post -->

<!-- The #contentFor helper here will send everything inside it up to the matching #block helper found in default.hbs -->


        <!-- Previous/next page links - displayed on every page -->
        

        <!-- The footer at the very bottom of the screen -->
        <footer class="site-footer outer">
            <div class="site-footer-content inner">
                <section class="copyright"><a href="https://HAN-Sang-Ho.github.io/">호노의 Technical Blog</a> &copy; 2021</section>
                <section class="poweredby">Proudly published with <a href="https://jekyllrb.com/">Jekyll</a> &
                    <a href="https://pages.github.com/" target="_blank" rel="noopener">GitHub Pages</a> using
                    <a href="https://github.com/jekyller/jasper2" target="_blank" rel="noopener">Jasper2</a></section>
                <nav class="site-footer-nav">
                    <a href="/">Latest Posts</a>
                    
                    
                    <a href="https://ghost.org" target="_blank" rel="noopener">Ghost</a>
                </nav>
            </div>
        </footer>

    </div>

    <!-- The big email subscribe modal content -->
    
    <div id="subscribe" class="subscribe-overlay">
        <a class="subscribe-overlay-close" href="#"></a>
        <div class="subscribe-overlay-content">
            
            <h1 class="subscribe-overlay-title">Search 호노의 Technical Blog</h1>
            <p class="subscribe-overlay-description">
                lunr.js를 이용한 posts 검색 </p>
            <span id="searchform" method="post" action="/subscribe/" class="">
    <input class="confirm" type="hidden" name="confirm"  />
    <input class="location" type="hidden" name="location"  />
    <input class="referrer" type="hidden" name="referrer"  />

    <div class="form-group">
        <input class="subscribe-email" onkeyup="myFunc()"
               id="searchtext" type="text" name="searchtext"
               placeholder="Search..." />
    </div>
    <script type="text/javascript">
        function myFunc() {
            if(event.keyCode == 13) {
                var url = encodeURIComponent($("#searchtext").val());
                location.href = "/search.html?query=" + url;
            }
        }
    </script>
</span>
        </div>
    </div>
    

    <!-- highlight.js -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.10.0/components/prism-abap.min.js"></script>
    <script>$(document).ready(function() {
      $('pre code').each(function(i, block) {
        hljs.highlightBlock(block);
      });
    });</script>

    <!-- jQuery + Fitvids, which makes all video embeds responsive -->
    <script
        src="https://code.jquery.com/jquery-3.2.1.min.js"
        integrity="sha256-hwg4gsxgFZhOsEEamdOYGBf13FyQuiTwlAQgxVSNgt4="
        crossorigin="anonymous">
    </script>
    <script type="text/javascript" src="/assets/js/jquery.fitvids.js"></script>
    <script type="text/javascript" src="https://demo.ghost.io/assets/js/jquery.fitvids.js?v=724281a32e"></script>


    <!-- Paginator increased to "infinit" in _config.yml -->
    <!-- if paginator.posts  -->
    <!-- <script>
        var maxPages = parseInt('');
    </script>
    <script src="/assets/js/infinitescroll.js"></script> -->
    <!-- /endif -->

    


    <!-- Add Google Analytics  -->
    <!-- Global site tag (gtag.js) - Google Analytics -->
<script async src="https://www.googletagmanager.com/gtag/js?id=UA-191556191-1"></script>
<script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-191556191-1');
</script>


    <!-- The #block helper will pull in data from the #contentFor other template files. In this case, there's some JavaScript which we only want to use in post.hbs, but it needs to be included down here, after jQuery has already loaded. -->
    
        <script>

// NOTE: Scroll performance is poor in Safari
// - this appears to be due to the events firing much more slowly in Safari.
//   Dropping the scroll event and using only a raf loop results in smoother
//   scrolling but continuous processing even when not scrolling
$(document).ready(function () {
    // Start fitVids
    var $postContent = $(".post-full-content");
    $postContent.fitVids();
    // End fitVids

    var progressBar = document.querySelector('progress');
    var header = document.querySelector('.floating-header');
    var title = document.querySelector('.post-full-title');

    var lastScrollY = window.scrollY;
    var lastWindowHeight = window.innerHeight;
    var lastDocumentHeight = $(document).height();
    var ticking = false;

    function onScroll() {
        lastScrollY = window.scrollY;
        requestTick();
    }

    function onResize() {
        lastWindowHeight = window.innerHeight;
        lastDocumentHeight = $(document).height();
        requestTick();
    }

    function requestTick() {
        if (!ticking) {
            requestAnimationFrame(update);
        }
        ticking = true;
    }

    function update() {
        var trigger = title.getBoundingClientRect().top + window.scrollY;
        var triggerOffset = title.offsetHeight + 35;
        var progressMax = lastDocumentHeight - lastWindowHeight;

        // show/hide floating header
        if (lastScrollY >= trigger + triggerOffset) {
            header.classList.add('floating-active');
        } else {
            header.classList.remove('floating-active');
        }

        progressBar.setAttribute('max', progressMax);
        progressBar.setAttribute('value', lastScrollY);

        ticking = false;
    }

    window.addEventListener('scroll', onScroll, {passive: true});
    window.addEventListener('resize', onResize, false);

    update();
});
</script>

    

    <!-- Ghost outputs important scripts and data with this tag - it should always be the very last thing before the closing body tag -->
    <!-- ghost_foot -->

</body>
</html>
